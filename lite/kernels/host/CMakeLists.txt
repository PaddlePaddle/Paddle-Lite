if(LITE_ON_MODEL_OPTIMIZE_TOOL)
  set(IS_FAKED_KERNEL true CACHE INTERNAL "")
else()
  set(lite_kernel_deps ${lite_kernel_deps} math_host CACHE INTERNAL "")
  set(IS_FAKED_KERNEL false CACHE INTERNAL "")
endif()

message(STATUS "compile with lite host kernels")

# basic kernels
add_kernel(feed_compute_host Host basic SRCS feed_compute.cc)
add_kernel(fetch_compute_host Host basic SRCS fetch_compute.cc)
add_kernel(range_compute_host Host basic SRCS range_compute.cc)
add_kernel(split_compute_host Host basic SRCS split_compute.cc)
add_kernel(reshape_compute_host Host basic SRCS reshape_compute.cc)
add_kernel(squeeze_compute_host Host basic SRCS squeeze_compute.cc)
add_kernel(unsqueeze_compute_host Host basic SRCS unsqueeze_compute.cc)
add_kernel(multiclass_nms_compute_host Host basic SRCS multiclass_nms_compute.cc)
add_kernel(prior_box_compute_host Host basic SRCS prior_box_compute.cc)
add_kernel(expand_compute_host Host basic SRCS expand_compute.cc)
add_kernel(expand_as_compute_host Host basic SRCS expand_as_compute.cc)
add_kernel(fill_constant_compute_host Host basic SRCS fill_constant_compute.cc)
add_kernel(fill_constant_batch_size_like_compute_host Host basic SRCS fill_constant_batch_size_like_compute.cc)
add_kernel(stack_compute_host Host basic SRCS stack_compute.cc)
add_kernel(lod_array_length_compute_host Host basic SRCS lod_array_length_compute.cc)
add_kernel(unbind_compute_host Host basic SRCS unbind_compute.cc)
add_kernel(argmax_compute_host Host basic SRCS argmax_compute.cc)
add_kernel(assign_value_compute_host Host basic SRCS assign_value_compute.cc)
add_kernel(yolo_box_compute_host Host basic SRCS yolo_box_compute.cc)
add_kernel(write_back_compute_host Host basic SRCS write_back_compute.cc)
add_kernel(cast_compute_host Host basic SRCS cast_compute.cc)

# extra kernels
add_kernel(reverse_compute_host Host extra SRCS reverse_compute.cc)
add_kernel(index_select_compute_host Host extra SRCS index_select_compute.cc)
add_kernel(inverse_compute_host Host extra SRCS inverse_compute.cc)
add_kernel(deformable_conv_compute_host Host extra SRCS deformable_conv_compute.cc)
add_kernel(reduce_compute_host Host extra SRCS reduce_compute.cc)
add_kernel(generate_proposals_compute_host Host extra SRCS generate_proposals_compute.cc)
add_kernel(generate_proposals_v2_compute_host host extra SRCS generate_proposals_v2_compute.cc)
add_kernel(unstack_compute_host Host extra SRCS unstack_compute.cc)
add_kernel(norm_compute_host Host extra SRCS norm_compute.cc)
add_kernel(anchor_generator_compute_host Host extra SRCS anchor_generator_compute.cc)
add_kernel(shape_compute_host Host extra SRCS shape_compute.cc)
add_kernel(is_empty_compute_host Host extra SRCS is_empty_compute.cc)
add_kernel(crf_decoding_compute_host Host extra SRCS crf_decoding_compute.cc)
add_kernel(compare_compute_host Host extra SRCS compare_compute.cc)
add_kernel(logical_compute_host Host extra SRCS logical_compute.cc)
add_kernel(ctc_align_compute_host Host extra SRCS ctc_align_compute.cc)
add_kernel(cumsum_compute_host Host extra SRCS cumsum_compute.cc)
add_kernel(sampling_id_compute_host Host extra SRCS sampling_id_compute.cc)
add_kernel(polygon_box_transform_compute_host Host extra SRCS polygon_box_transform_compute.cc)
add_kernel(write_to_array_compute_host Host extra SRCS write_to_array_compute.cc)
add_kernel(read_from_array_compute_host Host extra SRCS read_from_array_compute.cc)
add_kernel(assign_compute_host Host extra SRCS assign_compute.cc)
add_kernel(retinanet_detection_output_compute_host Host extra SRCS retinanet_detection_output_compute.cc)
add_kernel(where_index_compute_host Host extra SRCS where_index_compute.cc)
add_kernel(where_compute_host Host extra SRCS where_compute.cc)
add_kernel(print_compute_host Host extra SRCS print_compute.cc)
add_kernel(while_compute_host Host extra SRCS while_compute.cc)
add_kernel(conditional_block_compute_host Host extra SRCS conditional_block_compute.cc)
add_kernel(correlation_compute_host Host extra SRCS correlation_compute.cc)
add_kernel(activation_grad_compute_host Host train SRCS activation_grad_compute.cc)
add_kernel(pixel_shuffle_compute_host Host extra SRCS pixel_shuffle_compute.cc)
add_kernel(one_hot_compute_host Host extra SRCS one_hot_compute.cc)
add_kernel(uniform_random_compute_host Host extra SRCS uniform_random_compute.cc)
add_kernel(matrix_nms_compute_host Host extra SRCS matrix_nms_compute.cc)
add_kernel(sin_compute_host Host extra SRCS sin_compute.cc)
add_kernel(cos_compute_host Host extra SRCS cos_compute.cc)
add_kernel(cos_sim_compute_host Host extra SRCS cos_sim_compute.cc)
add_kernel(crop_compute_host Host extra SRCS crop_compute.cc)
add_kernel(crop_tensor_compute_host Host extra SRCS crop_tensor_compute.cc)
add_kernel(sequence_pad_compute_host Host extra SRCS sequence_pad_compute.cc)
add_kernel(sequence_unpad_compute_host Host extra SRCS sequence_unpad_compute.cc)
add_kernel(sequence_expand_compute_host Host extra SRCS sequence_expand_compute.cc)
add_kernel(sequence_softmax_compute_host Host extra SRCS sequence_softmax_compute.cc)
add_kernel(sequence_mask_compute_host Host extra SRCS sequence_mask_compute.cc)
add_kernel(flatten_contiguous_range_compute_host Host extra SRCS flatten_compute.cc)
add_kernel(shuffle_channel_compute_host Host extra SRCS shuffle_channel_compute.cc)
add_kernel(activation_compute_host Host extra SRCS activation_compute.cc)
add_kernel(box_coder_compute_host Host basic SRCS box_coder_compute.cc)
add_kernel(gather_compute_host Host extra SRCS gather_compute.cc)
add_kernel(gather_nd_compute_host Host extra SRCS gather_nd_compute.cc)
add_kernel(gather_tree_compute_host Host extra SRCS gather_tree_compute.cc)
add_kernel(increment_compute_host Host extra SRCS increment_compute.cc)
add_kernel(pad2d_compute_host Host extra SRCS pad2d_compute.cc)
add_kernel(pad3d_compute_host Host extra SRCS pad3d_compute.cc)
add_kernel(select_input_compute_host Host extra SRCS select_input_compute.cc)
add_kernel(tensor_array_to_tensor_compute_host Host extra SRCS tensor_array_to_tensor_compute.cc)
add_kernel(expand_v2_compute_host Host extra SRCS expand_v2_compute.cc)
add_kernel(strided_slice_compute_host Host extra SRCS strided_slice_compute.cc)
add_kernel(tile_compute_host Host extra SRCS tile_compute.cc)
add_kernel(fill_any_like_compute_host Host extra SRCS fill_any_like_compute.cc)
add_kernel(fill_zeros_like_compute_host Host extra SRCS fill_zeros_like_compute.cc)
add_kernel(scatter_nd_add_compute_host Host extra SRCS scatter_nd_add_compute.cc)
add_kernel(tril_triu_compute_host Host extra SRCS tril_triu_compute.cc)
add_kernel(topk_compute_host Host extra SRCS topk_compute.cc)
add_kernel(topk_v2_compute_host Host extra SRCS topk_v2_compute.cc)
add_kernel(density_prior_box_compute_host Host extra SRCS density_prior_box_compute.cc)
add_kernel(meshgrid_compute_host Host extra SRCS meshgrid_compute.cc)
add_kernel(linspace_compute_host Host extra SRCS linspace_compute.cc)
add_kernel(beam_search_compute_host Host extra SRCS beam_search_compute.cc)
add_kernel(beam_search_decode_compute_host Host extra SRCS beam_search_decode_compute.cc)
add_kernel(roi_perspective_transform_compute_host Host extra SRCS roi_perspective_transform_compute.cc)
add_kernel(lod_reset_compute_host Host extra SRCS lod_reset_compute.cc)
add_kernel(argsort_compute_host Host extra SRCS argsort_compute.cc)
add_kernel(distribute_fpn_proposals_compute_host Host extra SRCS distribute_fpn_proposals_compute.cc)
add_kernel(collect_fpn_proposals_compute_host Host extra SRCS collect_fpn_proposals_compute.cc)
add_kernel(flip_compute_host Host extra SRCS flip_compute.cc)
add_kernel(unique_with_counts_compute  Host extra SRCS unique_with_counts_compute.cc)
add_kernel(roi_align_compute Host extra SRCS roi_align_compute.cc)
add_kernel(box_clip_compute Host extra SRCS box_clip_compute.cc)
add_kernel(gaussian_random_compute Host extra SRCS gaussian_random_compute.cc)
add_kernel(unfold_compute Host extra SRCS unfold_compute.cc)
add_kernel(max_pool_with_index_compute Host extra SRCS max_pool_with_index_compute.cc)
add_kernel(merge_lod_tensor_compute Host extra SRCS merge_lod_tensor_compute.cc)
add_kernel(im2sequence_compute Host extra SRCS im2sequence_compute.cc)
add_kernel(log_softmax_compute Host extra SRCS log_softmax_compute.cc)
add_kernel(roll_compute Host extra SRCS roll_compute.cc)

if(LITE_BUILD_EXTRA AND LITE_WITH_x86)
  lite_cc_test(test_where_index_compute_host SRCS where_index_compute.cc)
  lite_cc_test(test_pixel_shuffle_compute_host SRCS pixel_shuffle_compute.cc)
  lite_cc_test(test_one_hot_compute_host SRCS one_hot_compute_test.cc)
endif()
